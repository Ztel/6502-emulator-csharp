.ORG $8000

reset:
  ;put sprite data in sprite buffer
  LDX #$00
draw_sprites_loop:
  LDA sprites,X
  STA $2100,X 
  INX
  CPX #$00
  BNE draw_sprites_loop
  JMP main_loop

main_loop:
  JMP main_loop

nmi:
  ;draw background data starting from an offset
  ;the offset shifts each frame to create motion
  LDX $40
  LDY #$00
draw_bg_loop: 
  LDA background,X
  STA $2000,Y
  INX
  INY
  CPX $0040
  BNE draw_bg_loop
  INC $0040
  RTI

background:
  .BYTE $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45
  .BYTE $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54
  .BYTE $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20
  .BYTE $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54
  .BYTE $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53
  .BYTE $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20
  .BYTE $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20
  .BYTE $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45
  .BYTE $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54
  .BYTE $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20
  .BYTE $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54
  .BYTE $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53
  .BYTE $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20
  .BYTE $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20
  .BYTE $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45
  .BYTE $53, $54, $20, $20, $20, $54, $45, $53, $54, $20, $20, $20, $54, $45, $53, $54

sprites:
  .BYTE $63, $20, $64, $20, $65, $20, $66, $20, $67, $20
  .BYTE $68, $20, $69, $20, $6A, $20, $6B, $20, $6C, $20
  .BYTE $73, $20, $74, $21, $75, $20, $76, $54, $77, $45
  .BYTE $78, $53, $79, $54, $7A, $20, $7B, $21, $7C, $20
  .BYTE $83, $20, $84, $20, $85, $20, $86, $20, $87, $20
  .BYTE $88, $20, $89, $20, $8A, $20, $8B, $20, $8C, $20

.ORG $FFFA
.WORD nmi
.WORD reset
.WORD #$1234